<% include header.ejs %>
<% include navigation.ejs %>

<h1>Find Networks</h1>
<p id="message"></p>
<!-- btn-group from twitter allows for next div to be aligned and pulled right, easy fix-->
<div class="btn-group">
        <div id="divSearch">
            <label>Query:</label>
            <input type="text" data-bind=”text: SearchString" name="searchString" id="searchString"/><br/>
            <label>Results per Page:</label>
            <input type="text" data-bind=”text: PageSize" name="searchString" id="searchString"/><br/>
            <label>Page Number:</label>
            <input type="text" data-bind=”text: PageIndex" name="searchString" id="searchString"/><br/>
        </div>

        <div>
            <input id="btnSearch" type="button" value="Search"/>
        </div>
</div>

<!--
<div class="pull-right">
    <a class="ndex-options" href="#searchOptions" data-toggle="modal">
        <i class="icon-cog icon-large"></i>
    </a>
</div>
-->

<div id="divNetworks" class="tab-pane active">
    <table>
        <thead>
        <tr>
            <th colspan="2">Name</th>
            <th>Nodes</th>
            <th>Edges</th>
            <th></th>
        </tr>
        </thead>
        <tbody data-bind="foreach: Networks">
        <tr>
            <td>
                <i class="icon-chevron-right"></i>
            </td>
            <td>
                <a data-bind="text: title"></a>
                <!--
                <a data-bind="text: title, attr: { href: '/network/' + id() }"></a>
                -->
            </td>
            <td class="AlignRight" data-bind="text: nodeCount"></td>
            <td class="AlignRight" data-bind="text: edgeCount"></td>
            <td>
                <div class="btn-group">
                    <a href="javascript:void()" class="btn" title="Add to Work Surface" rel="tooltip">
                        <!-- ko if: !WorkSurface.isOnWorkSurface(id()) -->
                        <i class="icon-plus icon-white" data-bind="click: WorkSurface.addNetwork"></i>
                        <!-- /ko -->
                        <!-- ko if: WorkSurface.isOnWorkSurface(id()) -->
                        <i class="icon-remove icon-white" data-bind="click: WorkSurface.removeNetwork"></i>
                        <!-- /ko -->
                    </a>
                    <a href="javascript:void()" class="btn" title="Request access" rel="tooltip">
                        <i class="icon-exchange" data-bind="click: User.requestNetworkAccess"></i>
                    </a>
                    <a data-bind="attr: { href: '/network/' + id() + '/visualize' }" class="btn" target="_blank"
                       title="Visualize network" rel="tooltip">
                        <i class="icon-eye-open"></i>
                    </a>
                </div>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<!--
<div id="searchOptions" class=" modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
    <div class="modal-header">
        <h4 id="myModalLabel"> Network Search Options </h4>
    </div>
    <div class="modal-body">

        <label class="span2">Search results per page: </label>
        <input id="networksPerPage" type="text" class="span2" pattern="" min="1"> <br>
        <label class="span2">Current page: </label>
        <input id="currentPage" type="text" class="span2" pattern="" min="1" placeholder="0"> <br>

    </div>
    <div class="modal-footer">
        <button class="btn" onclick="handleSearchOptionModal()" data-dismiss="modal" aria-hidden="true"> Save Changes
        </button>
        <button class="btn" data-dismiss="modal" aria-hidden="true"> Cancel</button>
    </div>
</div>
-->

<script type="text/javascript" src="/js/network_search.js"></script>

<% include worksurface.ejs %>
<% include footer.ejs %>
